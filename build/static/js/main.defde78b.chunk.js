(this.webpackJsonppetrich_react_2nd=this.webpackJsonppetrich_react_2nd||[]).push([[0],{15:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(2),c=a.n(r),s=a(9),n=a.n(s),i=(a(15),a(3)),l=a(4),o=a(6),h=a(5),u=a(0),d=function(){return Object(u.jsxs)("nav",{className:"py-7 flex justify-between items-center font-bold",children:[Object(u.jsxs)("a",{className:"text-3xl",href:"/",children:[Object(u.jsx)("span",{className:"text-color-main mr-1",children:"Marvel"}),"information portal"]}),Object(u.jsxs)("div",{className:"text-2xl",children:[Object(u.jsx)("a",{className:"text-color-main",href:"/characters",children:"Characters"}),Object(u.jsx)("span",{className:"mx-1",children:"/"}),Object(u.jsx)("a",{className:"text-black",href:"/comics",children:"Comics"})]})]})},j=a(1),f=a.n(j),m=a(7),p=function e(){var t=this;Object(i.a)(this,e),this._apiBase="https://gateway.marvel.com:443/v1/public/",this._apiKey="apikey=fbf8fdd906438a3eae9ccc474039212b",this._offset="310",this.getResourse=function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(m.a)(f.a.mark((function e(){var a,r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:t._offset,e.next=3,t.getResourse("".concat(t._apiBase,"characters?limit=9&offset=").concat(a,"&").concat(t._apiKey));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(m.a)(f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("https://gateway.marvel.com:443/v1/public/characters/".concat(a,"?apikey=fbf8fdd906438a3eae9ccc474039212b"));case 2:return r=e.sent,e.abrupt("return",r.data.results[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformChar=function(e){return{id:e.id,name:e.name,description:e.description?e.description:"No detailed information",thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),homepage:e.urls[0].url,wiki:e.urls[1].url}}},b=function(){return Object(u.jsx)("svg",{className:"m-auto",xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto",background:"#ffffff",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(u.jsx)("circle",{cx:"50",cy:"50",fill:"none",stroke:"#df1317",strokeWidth:"10",r:"35",strokeDasharray:"164.93361431346415 56.97787143782138",children:Object(u.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})})})},x=function(){return Object(u.jsxs)("div",{className:"flex flex-col justify-center items-center bg-blue-600 w-full h-full ",children:[Object(u.jsx)("div",{className:"text-3xl text-white",children:"Error 404"}),Object(u.jsx)("a",{className:"text-lg text-white hover:text-gray-600",href:"/",children:"Go home"})]})},O=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={char:{name:"",description:"",thumbnail:"",homepage:"",wiki:""},loading:!0,error:!1},e.marvelService=new p,e.updateChar=Object(m.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),a=Math.floor(400*Math.random()+1011e3),t.prev=2,t.next=5,e.marvelService.getCharacter(a);case 5:r=t.sent,c=e.marvelService._transformChar(r),e.setState({char:c}),e.setState({loading:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({loading:!1}),e.setState({error:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"render",value:function(){var e=this.state,t=e.char,a=e.loading,r=e.error,c=t.thumbnail.endsWith("available.jpg")?"w-full h-full":"w-full h-full object-cover",s=function(e){var t=e.char;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"w-180p h-180p bg-gray-300 flex-shrink-0",children:Object(u.jsx)("img",{className:c,src:t.thumbnail,alt:"character pic"})}),Object(u.jsxs)("div",{className:"flex flex-col ml-30p overflow-visible",children:[Object(u.jsx)("h3",{className:"text-header uppercase single-clamp w-72",children:t.name}),Object(u.jsx)("p",{className:"text-p my-13p flex-grow line-clamp",children:t.description}),Object(u.jsxs)("div",{className:"flex h-38p flex-shrink-0 overflow-visible",children:[Object(u.jsx)("a",{className:"btn-main",href:t.homepage,children:"HOMEPAGE"}),Object(u.jsx)("a",{className:"btn-gray ml-30p",href:t.wiki,children:"WIKI"})]})]})]})},n=r?Object(u.jsx)(x,{}):null,i=a?Object(u.jsx)(b,{}):null,l=n||i?null:Object(u.jsx)(s,{char:t});return Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsxs)("div",{className:"w-1/2 h-250p p-35p pl-10 shadow-main flex",children:[n,i,l]}),Object(u.jsxs)("div",{className:"w-1/2 h-250p p-35p pl-10 shadow-main bg-gray-900 bg-thor bg-thor-pos bg-no-repeat flex flex-col justify-between",children:[Object(u.jsxs)("div",{className:"text-rnd-card",children:["Random character for today!",Object(u.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(u.jsx)("div",{className:"text-rnd-card flex-grow mt-8",children:"Or choose another one"}),Object(u.jsx)("button",{className:"btn-main hover:-translate-y-2",onClick:this.updateChar,children:"TRY IT"})]})]})}}]),a}(r.Component),v=a(10),g=function(e){var t=e.char,a=t.thumbnail.endsWith("available.jpg")?"w-full h-full":"w-full h-full object-cover";return Object(u.jsxs)("div",{tabIndex:0,onClick:function(){return e.setId(t.id)},onKeyPress:function(a){" "!==a.key&&"Enter"!==a.key||e.setId(t.id)},className:"flex flex-col bg-gray-700 w-[200px] h-[318px] cursor-pointer focus:drop-shadow-card focus:-translate-y-4 transition duration-300 ease-in-out",children:[Object(u.jsx)("div",{className:"w-full h-200p bg-gray-300",children:Object(u.jsx)("img",{className:a,src:t.thumbnail,alt:"character pic"})}),Object(u.jsx)("h3",{className:"text-ch-name mt-15p ml-15p uppercase ",children:t.name})]})},w=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={persons:[],loading:!0,charOffset:310,btnLoading:!1},e.marvelService=new p,e.updateCharacters=function(){var t=Object(m.a)(f.a.mark((function t(a){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({btnLoading:!0}),t.next=3,e.marvelService.getAllCharacters(String(a));case 3:r=t.sent,c=[],r.forEach((function(t){return c.push(e.marvelService._transformChar(t))})),e.setState({persons:[].concat(Object(v.a)(e.state.persons),c)}),e.setState({loading:!1}),e.setState((function(e){return{charOffset:e.charOffset+9}})),e.setState({btnLoading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateCharacters(this.state.charOffset)}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"flex flex-wrap gap-x-25p gap-y-30p w-[650px] justify-center",children:this.state.loading?Object(u.jsx)(b,{}):Object(u.jsxs)(u.Fragment,{children:[this.state.persons.map((function(t){return Object(u.jsx)(g,{char:t,setId:e.props.setId},t.id)})),Object(u.jsx)("button",{onClick:function(){return e.updateCharacters(e.state.charOffset)},className:"btn-main mt-4 mx-auto disabled:bg-gray-400",disabled:this.state.btnLoading,children:"LOAD MORE"})]})})}}]),a}(r.Component),y=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={char:{},loading:!1,error:!1},e.marvelService=new p,e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(m.a)(f.a.mark((function e(t,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id===this.props.id){e.next=16;break}return e.prev=1,e.next=4,this.setState({loading:!0});case 4:return e.next=6,this.marvelService.getCharacter(this.props.id);case 6:return r=e.sent,this.setState({char:r}),e.next=10,this.setState({loading:!1});case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({error:!0}),this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=function(e){var t=e.char,a=t.name,c=t.urls,s=t.thumbnail,n=t.comics,i=t.description,l=r.thumbnail.path.endsWith("available")?"w-full h-full":"w-full h-full object-cover";return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"flex flex-grow-0 h-150p",children:[Object(u.jsx)("div",{className:"w-150p h-150p flex-shrink-0",children:Object(u.jsx)("img",{className:l,src:"".concat(s.path,".").concat(s.extension),alt:"character pic"})}),Object(u.jsxs)("div",{className:"flex flex-col ml-25p h-full",children:[Object(u.jsx)("h2",{className:"text-header uppercase",children:a}),Object(u.jsx)("a",{className:"btn-main mt-auto",href:c[1].url,children:"WIKI"}),Object(u.jsx)("a",{className:"btn-main mt-2.5",href:c[0].url,children:"HOMEPAGE"})]})]}),Object(u.jsx)("p",{className:"mt-4 text-p",children:i}),Object(u.jsx)("h4",{className:"text-header-s mt-2.5",children:"Comics:"}),n.items.map((function(e,t){if(!(t>=15))return Object(u.jsx)("a",{href:e.resourceURI,className:"w-full mt-2.5  hover:scale-105",children:Object(u.jsx)("div",{className:"w-full py-[3px] px-2.5 text-p shadow-comics-item",children:e.name})},e.name)}))]})},t=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h4",{className:"text-header-s text-center",children:"Please select a character to see information"}),Object(u.jsxs)("div",{className:"w-full mt-[33px] flex flex-col",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"bg-gray-300 w-10 h-10 rounded-full mr-[9px] flex-shrink-0"}),Object(u.jsx)("div",{className:"bg-gray-300 w-full h-4"})]}),Object(u.jsx)("div",{className:"h-35p mt-15p bg-gray-300"}),Object(u.jsx)("div",{className:"h-35p mt-15p bg-gray-300"}),Object(u.jsx)("div",{className:"h-35p mt-15p bg-gray-300"})]})]})},a=this.state,r=a.char,c=a.loading,s=a.error,n=s?Object(u.jsx)(x,{}):null,i=c?Object(u.jsx)(b,{}):null,l="{}"===JSON.stringify(r)||c||s?null:Object(u.jsx)(e,{char:this.state.char}),o="{}"!==JSON.stringify(r)||c||s?null:Object(u.jsx)(t,{});return Object(u.jsxs)("div",{className:"p-25p shadow-main w-full flex flex-col self-start",children:[o,n,i,l]})}}]),a}(r.Component),N=function(){return Object(u.jsxs)("div",{className:"shadow-main w-full mt-30p p-25p flex flex-col justify-between",children:[Object(u.jsx)("h4",{className:"text-header-s",children:"Or find a character by name:"}),Object(u.jsxs)("div",{className:"flex justify-between mt-[18px]",children:[Object(u.jsx)("input",{type:"text",name:"find-char",className:"w-[250px] h-38p px-2 shadow-comics-item outline-none placeholder-fsz",placeholder:"Enter name"}),Object(u.jsx)("button",{className:"btn-main bg-main",children:"FIND"})]})]})},k=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={error:!1},e}return Object(l.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(u.jsx)("h2",{children:"Error came here"}):this.props.children}}]),a}(r.Component),S=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={currentId:NaN},e.setId=function(t){e.setState({currentId:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"w-[1100px] mx-auto",children:[Object(u.jsx)(d,{}),Object(u.jsx)(O,{}),Object(u.jsxs)("div",{className:"flex mt-12",children:[Object(u.jsx)(w,{setId:this.setId}),Object(u.jsxs)("div",{className:"flex flex-col ml-25p w-[425px]",children:[Object(u.jsx)(k,{children:Object(u.jsx)(y,{id:this.state.currentId})}),Object(u.jsx)(N,{})]})]})]})}}]),a}(r.Component);n.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.defde78b.chunk.js.map